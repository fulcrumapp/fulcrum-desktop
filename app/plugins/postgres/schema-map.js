"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _pgFormat = _interopRequireDefault(require("pg-format"));

var _wellknown = _interopRequireDefault(require("wellknown"));

var _api = require("../../api");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function toNumber(value) {
  return value != null && !Array.isArray(value) && !isNaN(+value) && Number.isFinite(+value) ? +value : null;
}

class SchemaMap {
  // * force 2d
  // * remove duplicate vertices
  static geomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `ST_RemoveRepeatedPoints(ST_Force2D(ST_GeomFromText(${(0, _pgFormat.default)('%L', _wellknown.default.stringify(geojsonGeometry))}, 4326)))`;
  } // * force to multi
  // * force 2d
  // * remove duplicate vertices


  static multiGeomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `ST_RemoveRepeatedPoints(ST_Force2D(ST_Multi(ST_GeomFromText(${(0, _pgFormat.default)('%L', _wellknown.default.stringify(geojsonGeometry))}, 4326))))`;
  }

  static geometry(latitude, longitude) {
    return {
      raw: this.geomFromGeoJSON({
        type: 'Point',
        coordinates: [+longitude, +latitude]
      })
    };
  }

  static trackGeometry(trackJSON) {
    if (trackJSON) {
      const track = new _api.core.Track('video', trackJSON);
      const geoJSON = track.toGeoJSONMultiLineString();

      if (geoJSON && geoJSON.geometry && geoJSON.geometry.coordinates.length && geoJSON.geometry.coordinates[0].length > 1) {
        return {
          raw: this.multiGeomFromGeoJSON(geoJSON)
        };
      }
    }

    return null;
  }

  static jsonValue(value) {
    return value != null ? JSON.stringify(value) : null;
  }

  static record(row, values) {
    // records are special since they're already table-ized in a different code path.
    return {
      row_id: row.rowID,
      row_resource_id: values.record_resource_id,
      form_id: row._formRowID,
      form_resource_id: row.formID,
      project_id: row._projectRowID,
      project_resource_id: row._projectID,
      assigned_to_id: row._assignedToRowID,
      assigned_to_resource_id: row._assignedToID,
      status: values.status,
      latitude: values.latitude,
      longitude: values.longitude,
      created_at: values.created_at,
      updated_at: values.updated_at,
      version: values.version,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      server_created_at: values.server_created_at,
      server_updated_at: values.server_updated_at,
      record_index_text: values.record_index_text,
      record_index: values.record_index,
      geometry: values.geometry,
      altitude: values.altitude,
      speed: values.speed,
      course: values.course,
      horizontal_accuracy: values.horizontal_accuracy,
      vertical_accuracy: values.vertical_accuracy,
      form_values: values.form_values,
      changeset_id: row._changesetRowID,
      changeset_resource_id: row._changesetID,
      title: row.displayValue,
      created_latitude: values.created_latitude,
      created_longitude: values.created_longitude,
      created_geometry: values.created_geometry,
      created_altitude: values.created_altitude,
      created_horizontal_accuracy: values.created_horizontal_accuracy,
      updated_latitude: values.updated_latitude,
      updated_longitude: values.updated_longitude,
      updated_geometry: values.updated_geometry,
      updated_altitude: values.updated_altitude,
      updated_horizontal_accuracy: values.updated_horizontal_accuracy,
      created_duration: values.created_duration,
      updated_duration: values.updated_duration,
      edited_duration: values.edited_duration
    };
  }

  static photo(row) {
    const hasLocation = row._latitude != null && row._longitude != null;
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      exif: this.jsonValue(row._exif),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: hasLocation ? this.geometry(row._latitude, row._longitude) : null,
      latitude: hasLocation ? row._latitude : null,
      longitude: hasLocation ? row._longitude : null,
      altitude: toNumber(row._altitude),
      direction: toNumber(row._direction),
      accuracy: toNumber(row._accuracy),
      width: row._width,
      height: row._height,
      make: row._make,
      model: row._model,
      software: row._software,
      date_time: row._dateTime
    };
  }

  static video(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      width: row._width,
      height: row._height,
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static audio(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static signature(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed
    };
  }

  static changeset(row) {
    const geometry = this.geomFromGeoJSON(row.boundingBoxAsGeoJSON);
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      closed_at: row._closedAt,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      closed_by_id: row._closedByRowID,
      closed_by_resource_id: row._closedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      min_lat: row._minLat,
      max_lat: row._maxLat,
      min_lon: row._minLon,
      max_lon: row._maxLon,
      number_of_changes: row._numberOfChanges,
      number_of_creates: row._numberOfCreates,
      number_of_updates: row._numberOfUpdates,
      number_of_deletes: row._numberOfDeletes,
      metadata_index_text: row._metadataIndexText,
      metadata_index: {
        raw: `to_tsvector(${(0, _pgFormat.default)('%L', row._metadataIndexText)})`
      },
      bounding_box: geometry ? {
        raw: this.geomFromGeoJSON(row.boundingBoxAsGeoJSON)
      } : null
    };
  }

  static choiceList(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._choicesJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static classificationSet(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._itemsJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static form(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      elements: this.jsonValue(row._elementsJSON),
      status: row._status,
      status_field: this.jsonValue(row._statusFieldJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      auto_assign: row._autoAssign,
      title_field_keys: this.jsonValue(row._titleFieldKeys),
      hidden_on_dashboard: row._hiddenOnDashboard,
      geometry_types: this.jsonValue(row._geometryTypes),
      geometry_required: row._geometryRequired,
      script: row._script,
      image: row._image,
      projects_enabled: !!row._projectEnabled,
      assignment_enabled: !!row._assignmentEnabled
    };
  }

  static project(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static role(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      is_system: row._isSystem,
      is_default: row._isDefault,
      can_manage_subscription: row.canManageSubscription,
      can_update_organization: row.canUpdateOrganization,
      can_manage_members: row.canManageMembers,
      can_manage_roles: row.canManageRoles,
      can_manage_apps: row.canManageApps,
      can_manage_projects: row.canManageProjects,
      can_manage_choice_lists: row.canManageChoiceLists,
      can_manage_classification_sets: row.canManageClassificationSets,
      can_create_records: row.canCreateRecords,
      can_update_records: row.canUpdateRecords,
      can_delete_records: row.canDeleteRecords,
      can_change_status: row.canChangeStatus,
      can_change_project: row.canChangeProject,
      can_assign_records: row.canAssignRecords,
      can_import_records: row.canImportRecords,
      can_export_records: row.canExportRecords,
      can_run_reports: row.canRunReports
    };
  }

  static membership(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      user_resource_id: row._userID,
      first_name: row._firstName,
      last_name: row._lastName,
      name: (row._firstName || '') + ' ' + (row._lastName || ''),
      email: row._email,
      role_id: row._roleRowID,
      role_resource_id: row._roleID,
      status: row.status,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

}

exports.default = SchemaMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wbHVnaW5zL3Bvc3RncmVzL3NjaGVtYS1tYXAuanMiXSwibmFtZXMiOlsidG9OdW1iZXIiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImlzTmFOIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJTY2hlbWFNYXAiLCJnZW9tRnJvbUdlb0pTT04iLCJnZW9qc29uR2VvbWV0cnkiLCJ3a3QiLCJzdHJpbmdpZnkiLCJtdWx0aUdlb21Gcm9tR2VvSlNPTiIsImdlb21ldHJ5IiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJyYXciLCJ0eXBlIiwiY29vcmRpbmF0ZXMiLCJ0cmFja0dlb21ldHJ5IiwidHJhY2tKU09OIiwidHJhY2siLCJjb3JlIiwiVHJhY2siLCJnZW9KU09OIiwidG9HZW9KU09OTXVsdGlMaW5lU3RyaW5nIiwibGVuZ3RoIiwianNvblZhbHVlIiwiSlNPTiIsInJlY29yZCIsInJvdyIsInZhbHVlcyIsInJvd19pZCIsInJvd0lEIiwicm93X3Jlc291cmNlX2lkIiwicmVjb3JkX3Jlc291cmNlX2lkIiwiZm9ybV9pZCIsIl9mb3JtUm93SUQiLCJmb3JtX3Jlc291cmNlX2lkIiwiZm9ybUlEIiwicHJvamVjdF9pZCIsIl9wcm9qZWN0Um93SUQiLCJwcm9qZWN0X3Jlc291cmNlX2lkIiwiX3Byb2plY3RJRCIsImFzc2lnbmVkX3RvX2lkIiwiX2Fzc2lnbmVkVG9Sb3dJRCIsImFzc2lnbmVkX3RvX3Jlc291cmNlX2lkIiwiX2Fzc2lnbmVkVG9JRCIsInN0YXR1cyIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwidmVyc2lvbiIsImNyZWF0ZWRfYnlfaWQiLCJfY3JlYXRlZEJ5Um93SUQiLCJjcmVhdGVkX2J5X3Jlc291cmNlX2lkIiwiX2NyZWF0ZWRCeUlEIiwidXBkYXRlZF9ieV9pZCIsIl91cGRhdGVkQnlSb3dJRCIsInVwZGF0ZWRfYnlfcmVzb3VyY2VfaWQiLCJfdXBkYXRlZEJ5SUQiLCJzZXJ2ZXJfY3JlYXRlZF9hdCIsInNlcnZlcl91cGRhdGVkX2F0IiwicmVjb3JkX2luZGV4X3RleHQiLCJyZWNvcmRfaW5kZXgiLCJhbHRpdHVkZSIsInNwZWVkIiwiY291cnNlIiwiaG9yaXpvbnRhbF9hY2N1cmFjeSIsInZlcnRpY2FsX2FjY3VyYWN5IiwiZm9ybV92YWx1ZXMiLCJjaGFuZ2VzZXRfaWQiLCJfY2hhbmdlc2V0Um93SUQiLCJjaGFuZ2VzZXRfcmVzb3VyY2VfaWQiLCJfY2hhbmdlc2V0SUQiLCJ0aXRsZSIsImRpc3BsYXlWYWx1ZSIsImNyZWF0ZWRfbGF0aXR1ZGUiLCJjcmVhdGVkX2xvbmdpdHVkZSIsImNyZWF0ZWRfZ2VvbWV0cnkiLCJjcmVhdGVkX2FsdGl0dWRlIiwiY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5IiwidXBkYXRlZF9sYXRpdHVkZSIsInVwZGF0ZWRfbG9uZ2l0dWRlIiwidXBkYXRlZF9nZW9tZXRyeSIsInVwZGF0ZWRfYWx0aXR1ZGUiLCJ1cGRhdGVkX2hvcml6b250YWxfYWNjdXJhY3kiLCJjcmVhdGVkX2R1cmF0aW9uIiwidXBkYXRlZF9kdXJhdGlvbiIsImVkaXRlZF9kdXJhdGlvbiIsInBob3RvIiwiaGFzTG9jYXRpb24iLCJfbGF0aXR1ZGUiLCJfbG9uZ2l0dWRlIiwiaWQiLCJhY2Nlc3Nfa2V5IiwicmVjb3JkX2lkIiwiX3JlY29yZFJvd0lEIiwiX3JlY29yZElEIiwiX2Zvcm1JRCIsImV4aWYiLCJfZXhpZiIsImZpbGVfc2l6ZSIsIl9maWxlU2l6ZSIsIl9jcmVhdGVkQXQiLCJfdXBkYXRlZEF0IiwiZmlsZSIsIl9maWxlUGF0aCIsImNvbnRlbnRfdHlwZSIsIl9jb250ZW50VHlwZSIsImlzX3VwbG9hZGVkIiwiX2lzVXBsb2FkZWQiLCJpc19zdG9yZWQiLCJfaXNTdG9yZWQiLCJpc19wcm9jZXNzZWQiLCJfaXNQcm9jZXNzZWQiLCJfYWx0aXR1ZGUiLCJkaXJlY3Rpb24iLCJfZGlyZWN0aW9uIiwiYWNjdXJhY3kiLCJfYWNjdXJhY3kiLCJ3aWR0aCIsIl93aWR0aCIsImhlaWdodCIsIl9oZWlnaHQiLCJtYWtlIiwiX21ha2UiLCJtb2RlbCIsIl9tb2RlbCIsInNvZnR3YXJlIiwiX3NvZnR3YXJlIiwiZGF0ZV90aW1lIiwiX2RhdGVUaW1lIiwidmlkZW8iLCJfcm93SUQiLCJtZXRhZGF0YSIsIl9tZXRhZGF0YSIsImhhc190cmFjayIsIl9oYXNUcmFjayIsIl90cmFja0pTT04iLCJkdXJhdGlvbiIsIl9kdXJhdGlvbiIsImJpdF9yYXRlIiwiX2JpdFJhdGUiLCJhdWRpbyIsInNpZ25hdHVyZSIsImNoYW5nZXNldCIsImJvdW5kaW5nQm94QXNHZW9KU09OIiwiY2xvc2VkX2F0IiwiX2Nsb3NlZEF0IiwiY2xvc2VkX2J5X2lkIiwiX2Nsb3NlZEJ5Um93SUQiLCJjbG9zZWRfYnlfcmVzb3VyY2VfaWQiLCJfY2xvc2VkQnlJRCIsIm1pbl9sYXQiLCJfbWluTGF0IiwibWF4X2xhdCIsIl9tYXhMYXQiLCJtaW5fbG9uIiwiX21pbkxvbiIsIm1heF9sb24iLCJfbWF4TG9uIiwibnVtYmVyX29mX2NoYW5nZXMiLCJfbnVtYmVyT2ZDaGFuZ2VzIiwibnVtYmVyX29mX2NyZWF0ZXMiLCJfbnVtYmVyT2ZDcmVhdGVzIiwibnVtYmVyX29mX3VwZGF0ZXMiLCJfbnVtYmVyT2ZVcGRhdGVzIiwibnVtYmVyX29mX2RlbGV0ZXMiLCJfbnVtYmVyT2ZEZWxldGVzIiwibWV0YWRhdGFfaW5kZXhfdGV4dCIsIl9tZXRhZGF0YUluZGV4VGV4dCIsIm1ldGFkYXRhX2luZGV4IiwiYm91bmRpbmdfYm94IiwiY2hvaWNlTGlzdCIsIm5hbWUiLCJfbmFtZSIsImRlc2NyaXB0aW9uIiwiX2Rlc2NyaXB0aW9uIiwiX3ZlcnNpb24iLCJpdGVtcyIsIl9jaG9pY2VzSlNPTiIsImRlbGV0ZWRfYXQiLCJfZGVsZXRlZEF0IiwiY2xhc3NpZmljYXRpb25TZXQiLCJfaXRlbXNKU09OIiwiZm9ybSIsImVsZW1lbnRzIiwiX2VsZW1lbnRzSlNPTiIsIl9zdGF0dXMiLCJzdGF0dXNfZmllbGQiLCJfc3RhdHVzRmllbGRKU09OIiwiYXV0b19hc3NpZ24iLCJfYXV0b0Fzc2lnbiIsInRpdGxlX2ZpZWxkX2tleXMiLCJfdGl0bGVGaWVsZEtleXMiLCJoaWRkZW5fb25fZGFzaGJvYXJkIiwiX2hpZGRlbk9uRGFzaGJvYXJkIiwiZ2VvbWV0cnlfdHlwZXMiLCJfZ2VvbWV0cnlUeXBlcyIsImdlb21ldHJ5X3JlcXVpcmVkIiwiX2dlb21ldHJ5UmVxdWlyZWQiLCJzY3JpcHQiLCJfc2NyaXB0IiwiaW1hZ2UiLCJfaW1hZ2UiLCJwcm9qZWN0c19lbmFibGVkIiwiX3Byb2plY3RFbmFibGVkIiwiYXNzaWdubWVudF9lbmFibGVkIiwiX2Fzc2lnbm1lbnRFbmFibGVkIiwicHJvamVjdCIsInJvbGUiLCJpc19zeXN0ZW0iLCJfaXNTeXN0ZW0iLCJpc19kZWZhdWx0IiwiX2lzRGVmYXVsdCIsImNhbl9tYW5hZ2Vfc3Vic2NyaXB0aW9uIiwiY2FuTWFuYWdlU3Vic2NyaXB0aW9uIiwiY2FuX3VwZGF0ZV9vcmdhbml6YXRpb24iLCJjYW5VcGRhdGVPcmdhbml6YXRpb24iLCJjYW5fbWFuYWdlX21lbWJlcnMiLCJjYW5NYW5hZ2VNZW1iZXJzIiwiY2FuX21hbmFnZV9yb2xlcyIsImNhbk1hbmFnZVJvbGVzIiwiY2FuX21hbmFnZV9hcHBzIiwiY2FuTWFuYWdlQXBwcyIsImNhbl9tYW5hZ2VfcHJvamVjdHMiLCJjYW5NYW5hZ2VQcm9qZWN0cyIsImNhbl9tYW5hZ2VfY2hvaWNlX2xpc3RzIiwiY2FuTWFuYWdlQ2hvaWNlTGlzdHMiLCJjYW5fbWFuYWdlX2NsYXNzaWZpY2F0aW9uX3NldHMiLCJjYW5NYW5hZ2VDbGFzc2lmaWNhdGlvblNldHMiLCJjYW5fY3JlYXRlX3JlY29yZHMiLCJjYW5DcmVhdGVSZWNvcmRzIiwiY2FuX3VwZGF0ZV9yZWNvcmRzIiwiY2FuVXBkYXRlUmVjb3JkcyIsImNhbl9kZWxldGVfcmVjb3JkcyIsImNhbkRlbGV0ZVJlY29yZHMiLCJjYW5fY2hhbmdlX3N0YXR1cyIsImNhbkNoYW5nZVN0YXR1cyIsImNhbl9jaGFuZ2VfcHJvamVjdCIsImNhbkNoYW5nZVByb2plY3QiLCJjYW5fYXNzaWduX3JlY29yZHMiLCJjYW5Bc3NpZ25SZWNvcmRzIiwiY2FuX2ltcG9ydF9yZWNvcmRzIiwiY2FuSW1wb3J0UmVjb3JkcyIsImNhbl9leHBvcnRfcmVjb3JkcyIsImNhbkV4cG9ydFJlY29yZHMiLCJjYW5fcnVuX3JlcG9ydHMiLCJjYW5SdW5SZXBvcnRzIiwibWVtYmVyc2hpcCIsInVzZXJfcmVzb3VyY2VfaWQiLCJfdXNlcklEIiwiZmlyc3RfbmFtZSIsIl9maXJzdE5hbWUiLCJsYXN0X25hbWUiLCJfbGFzdE5hbWUiLCJlbWFpbCIsIl9lbWFpbCIsInJvbGVfaWQiLCJfcm9sZVJvd0lEIiwicm9sZV9yZXNvdXJjZV9pZCIsIl9yb2xlSUQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVNBLFFBQVQsQ0FBa0JDLEtBQWxCLEVBQXlCO0FBQ3ZCLFNBQU9BLEtBQUssSUFBSSxJQUFULElBQWlCLENBQUNDLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixLQUFkLENBQWxCLElBQTBDLENBQUNHLEtBQUssQ0FBQyxDQUFDSCxLQUFGLENBQWhELElBQTRESSxNQUFNLENBQUNDLFFBQVAsQ0FBZ0IsQ0FBQ0wsS0FBakIsQ0FBNUQsR0FBc0YsQ0FBQ0EsS0FBdkYsR0FBK0YsSUFBdEc7QUFDRDs7QUFFYyxNQUFNTSxTQUFOLENBQWdCO0FBQzdCO0FBQ0E7QUFDc0IsU0FBZkMsZUFBZSxDQUFDQyxlQUFELEVBQWtCO0FBQ3RDLFFBQUlBLGVBQWUsSUFBSSxJQUF2QixFQUE2QjtBQUMzQixhQUFPLElBQVA7QUFDRDs7QUFFRCxXQUFRLHNEQUFzRCx1QkFBUyxJQUFULEVBQWVDLG1CQUFJQyxTQUFKLENBQWNGLGVBQWQsQ0FBZixDQUFnRCxXQUE5RztBQUNELEdBVDRCLENBVzdCO0FBQ0E7QUFDQTs7O0FBQzJCLFNBQXBCRyxvQkFBb0IsQ0FBQ0gsZUFBRCxFQUFrQjtBQUMzQyxRQUFJQSxlQUFlLElBQUksSUFBdkIsRUFB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ZnJvbSAnd2VsbGtub3duJztcbmltcG9ydCB7IGNvcmUgfSBmcm9tICcuLi8uLi9hcGknO1xuXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgIWlzTmFOKCt2YWx1ZSkgJiYgTnVtYmVyLmlzRmluaXRlKCt2YWx1ZSkgPyArdmFsdWUgOiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2hlbWFNYXAge1xuICAvLyAqIGZvcmNlIDJkXG4gIC8vICogcmVtb3ZlIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xuICBzdGF0aWMgZ2VvbUZyb21HZW9KU09OKGdlb2pzb25HZW9tZXRyeSkge1xuICAgIGlmIChnZW9qc29uR2VvbWV0cnkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBTVF9SZW1vdmVSZXBlYXRlZFBvaW50cyhTVF9Gb3JjZTJEKFNUX0dlb21Gcm9tVGV4dCgkeyBwZ2Zvcm1hdCgnJUwnLCB3a3Quc3RyaW5naWZ5KGdlb2pzb25HZW9tZXRyeSkpIH0sIDQzMjYpKSlgO1xuICB9XG5cbiAgLy8gKiBmb3JjZSB0byBtdWx0aVxuICAvLyAqIGZvcmNlIDJkXG4gIC8vICogcmVtb3ZlIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xuICBzdGF0aWMgbXVsdGlHZW9tRnJvbUdlb0pTT04oZ2VvanNvbkdlb21ldHJ5KSB7XG4gICAgaWYgKGdlb2pzb25HZW9tZXRyeSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYFNUX1JlbW92ZVJlcGVhdGVkUG9pbnRzKFNUX0ZvcmNlMkQoU1RfTXVsdGkoU1RfR2VvbUZyb21UZXh0KCR7IHBnZm9ybWF0KCclTCcsIHdrdC5zdHJpbmdpZnkoZ2VvanNvbkdlb21ldHJ5KSkgfSwgNDMyNikpKSlgO1xuICB9XG5cbiAgc3RhdGljIGdlb21ldHJ5KGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcbiAgICByZXR1cm4geyByYXc6IHRoaXMuZ2VvbUZyb21HZW9KU09OKHt0eXBlOiAnUG9pbnQnLCBjb29yZGluYXRlczogWyArbG9uZ2l0dWRlLCArbGF0aXR1ZGUgXX0pIH07XG4gIH1cblxuICBzdGF0aWMgdHJhY2tHZW9tZXRyeSh0cmFja0pTT04pIHtcbiAgICBpZiAodHJhY2tKU09OKSB7XG4gICAgICBjb25zdCB0cmFjayA9IG5ldyBjb3JlLlRyYWNrKCd2aWRlbycsIHRyYWNrSlNPTik7XG5cbiAgICAgIGNvbnN0IGdlb0pTT04gPSB0cmFjay50b0dlb0pTT05NdWx0aUxpbmVTdHJpbmcoKTtcblxuICAgICAgaWYgKGdlb0pTT04gJiYgZ2VvSlNPTi5nZW9tZXRyeSAmJiBnZW9KU09OLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCAmJiBnZW9KU09OLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIHsgcmF3OiB0aGlzLm11bHRpR2VvbUZyb21HZW9KU09OKGdlb0pTT04pIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzdGF0aWMganNvblZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBudWxsO1xuICB9XG5cbiAgc3RhdGljIHJlY29yZChyb3csIHZhbHVlcykge1xuICAgIC8vIHJlY29yZHMgYXJlIHNwZWNpYWwgc2luY2UgdGhleSdyZSBhbHJlYWR5IHRhYmxlLWl6ZWQgaW4gYSBkaWZmZXJlbnQgY29kZSBwYXRoLlxuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogdmFsdWVzLnJlY29yZF9yZXNvdXJjZV9pZCxcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93LmZvcm1JRCxcbiAgICAgIHByb2plY3RfaWQ6IHJvdy5fcHJvamVjdFJvd0lELFxuICAgICAgcHJvamVjdF9yZXNvdXJjZV9pZDogcm93Ll9wcm9qZWN0SUQsXG4gICAgICBhc3NpZ25lZF90b19pZDogcm93Ll9hc3NpZ25lZFRvUm93SUQsXG4gICAgICBhc3NpZ25lZF90b19yZXNvdXJjZV9pZDogcm93Ll9hc3NpZ25lZFRvSUQsXG4gICAgICBzdGF0dXM6IHZhbHVlcy5zdGF0dXMsXG4gICAgICBsYXRpdHVkZTogdmFsdWVzLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiB2YWx1ZXMubG9uZ2l0dWRlLFxuICAgICAgY3JlYXRlZF9hdDogdmFsdWVzLmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0OiB2YWx1ZXMudXBkYXRlZF9hdCxcbiAgICAgIHZlcnNpb246IHZhbHVlcy52ZXJzaW9uLFxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcbiAgICAgIHNlcnZlcl9jcmVhdGVkX2F0OiB2YWx1ZXMuc2VydmVyX2NyZWF0ZWRfYXQsXG4gICAgICBzZXJ2ZXJfdXBkYXRlZF9hdDogdmFsdWVzLnNlcnZlcl91cGRhdGVkX2F0LFxuICAgICAgcmVjb3JkX2luZGV4X3RleHQ6IHZhbHVlcy5yZWNvcmRfaW5kZXhfdGV4dCxcbiAgICAgIHJlY29yZF9pbmRleDogdmFsdWVzLnJlY29yZF9pbmRleCxcbiAgICAgIGdlb21ldHJ5OiB2YWx1ZXMuZ2VvbWV0cnksXG4gICAgICBhbHRpdHVkZTogdmFsdWVzLmFsdGl0dWRlLFxuICAgICAgc3BlZWQ6IHZhbHVlcy5zcGVlZCxcbiAgICAgIGNvdXJzZTogdmFsdWVzLmNvdXJzZSxcbiAgICAgIGhvcml6b250YWxfYWNjdXJhY3k6IHZhbHVlcy5ob3Jpem9udGFsX2FjY3VyYWN5LFxuICAgICAgdmVydGljYWxfYWNjdXJhY3k6IHZhbHVlcy52ZXJ0aWNhbF9hY2N1cmFjeSxcbiAgICAgIGZvcm1fdmFsdWVzOiB2YWx1ZXMuZm9ybV92YWx1ZXMsXG4gICAgICBjaGFuZ2VzZXRfaWQ6IHJvdy5fY2hhbmdlc2V0Um93SUQsXG4gICAgICBjaGFuZ2VzZXRfcmVzb3VyY2VfaWQ6IHJvdy5fY2hhbmdlc2V0SUQsXG4gICAgICB0aXRsZTogcm93LmRpc3BsYXlWYWx1ZSxcbiAgICAgIGNyZWF0ZWRfbGF0aXR1ZGU6IHZhbHVlcy5jcmVhdGVkX2xhdGl0dWRlLFxuICAgICAgY3JlYXRlZF9sb25naXR1ZGU6IHZhbHVlcy5jcmVhdGVkX2xvbmdpdHVkZSxcbiAgICAgIGNyZWF0ZWRfZ2VvbWV0cnk6IHZhbHVlcy5jcmVhdGVkX2dlb21ldHJ5LFxuICAgICAgY3JlYXRlZF9hbHRpdHVkZTogdmFsdWVzLmNyZWF0ZWRfYWx0aXR1ZGUsXG4gICAgICBjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3k6IHZhbHVlcy5jcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3ksXG4gICAgICB1cGRhdGVkX2xhdGl0dWRlOiB2YWx1ZXMudXBkYXRlZF9sYXRpdHVkZSxcbiAgICAgIHVwZGF0ZWRfbG9uZ2l0dWRlOiB2YWx1ZXMudXBkYXRlZF9sb25naXR1ZGUsXG4gICAgICB1cGRhdGVkX2dlb21ldHJ5OiB2YWx1ZXMudXBkYXRlZF9nZW9tZXRyeSxcbiAgICAgIHVwZGF0ZWRfYWx0aXR1ZGU6IHZhbHVlcy51cGRhdGVkX2FsdGl0dWRlLFxuICAgICAgdXBkYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5OiB2YWx1ZXMudXBkYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxuICAgICAgY3JlYXRlZF9kdXJhdGlvbjogdmFsdWVzLmNyZWF0ZWRfZHVyYXRpb24sXG4gICAgICB1cGRhdGVkX2R1cmF0aW9uOiB2YWx1ZXMudXBkYXRlZF9kdXJhdGlvbixcbiAgICAgIGVkaXRlZF9kdXJhdGlvbjogdmFsdWVzLmVkaXRlZF9kdXJhdGlvblxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgcGhvdG8ocm93KSB7XG4gICAgY29uc3QgaGFzTG9jYXRpb24gPSByb3cuX2xhdGl0dWRlICE9IG51bGwgJiYgcm93Ll9sb25naXR1ZGUgIT0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgYWNjZXNzX2tleTogcm93LmlkLFxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxuICAgICAgcmVjb3JkX3Jlc291cmNlX2lkOiByb3cuX3JlY29yZElELFxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcbiAgICAgIGV4aWY6IHRoaXMuanNvblZhbHVlKHJvdy5fZXhpZiksXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkLFxuICAgICAgZ2VvbWV0cnk6IGhhc0xvY2F0aW9uID8gdGhpcy5nZW9tZXRyeShyb3cuX2xhdGl0dWRlLCByb3cuX2xvbmdpdHVkZSkgOiBudWxsLFxuICAgICAgbGF0aXR1ZGU6IGhhc0xvY2F0aW9uID8gcm93Ll9sYXRpdHVkZSA6IG51bGwsXG4gICAgICBsb25naXR1ZGU6IGhhc0xvY2F0aW9uID8gcm93Ll9sb25naXR1ZGUgOiBudWxsLFxuICAgICAgYWx0aXR1ZGU6IHRvTnVtYmVyKHJvdy5fYWx0aXR1ZGUpLFxuICAgICAgZGlyZWN0aW9uOiB0b051bWJlcihyb3cuX2RpcmVjdGlvbiksXG4gICAgICBhY2N1cmFjeTogdG9OdW1iZXIocm93Ll9hY2N1cmFjeSksXG4gICAgICB3aWR0aDogcm93Ll93aWR0aCxcbiAgICAgIGhlaWdodDogcm93Ll9oZWlnaHQsXG4gICAgICBtYWtlOiByb3cuX21ha2UsXG4gICAgICBtb2RlbDogcm93Ll9tb2RlbCxcbiAgICAgIHNvZnR3YXJlOiByb3cuX3NvZnR3YXJlLFxuICAgICAgZGF0ZV90aW1lOiByb3cuX2RhdGVUaW1lXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyB2aWRlbyhyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cuX3Jvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBhY2Nlc3Nfa2V5OiByb3cuaWQsXG4gICAgICByZWNvcmRfaWQ6IHJvdy5fcmVjb3JkUm93SUQsXG4gICAgICByZWNvcmRfcmVzb3VyY2VfaWQ6IHJvdy5fcmVjb3JkSUQsXG4gICAgICBmb3JtX2lkOiByb3cuX2Zvcm1Sb3dJRCxcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5fZm9ybUlELFxuICAgICAgbWV0YWRhdGE6IHRoaXMuanNvblZhbHVlKHJvdy5fbWV0YWRhdGEpLFxuICAgICAgaGFzX3RyYWNrOiByb3cuX2hhc1RyYWNrLFxuICAgICAgdHJhY2s6IHRoaXMuanNvblZhbHVlKHJvdy5fdHJhY2tKU09OKSxcbiAgICAgIGZpbGVfc2l6ZTogcm93Ll9maWxlU2l6ZSxcbiAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJvdy5fY3JlYXRlZEJ5Um93SUQsXG4gICAgICBjcmVhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX2NyZWF0ZWRCeUlELFxuICAgICAgdXBkYXRlZF9ieV9pZDogcm93Ll91cGRhdGVkQnlSb3dJRCxcbiAgICAgIHVwZGF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fdXBkYXRlZEJ5SUQsXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZmlsZTogcm93Ll9maWxlUGF0aCxcbiAgICAgIGNvbnRlbnRfdHlwZTogcm93Ll9jb250ZW50VHlwZSxcbiAgICAgIGlzX3VwbG9hZGVkOiByb3cuX2lzVXBsb2FkZWQsXG4gICAgICBpc19zdG9yZWQ6IHJvdy5faXNTdG9yZWQsXG4gICAgICBpc19wcm9jZXNzZWQ6IHJvdy5faXNQcm9jZXNzZWQsXG4gICAgICBnZW9tZXRyeTogdGhpcy50cmFja0dlb21ldHJ5KHJvdy5fdHJhY2tKU09OKSxcbiAgICAgIHdpZHRoOiByb3cuX3dpZHRoLFxuICAgICAgaGVpZ2h0OiByb3cuX2hlaWdodCxcbiAgICAgIGR1cmF0aW9uOiByb3cuX2R1cmF0aW9uLFxuICAgICAgYml0X3JhdGU6IHJvdy5fYml0UmF0ZVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgYXVkaW8ocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93Ll9yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgYWNjZXNzX2tleTogcm93LmlkLFxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxuICAgICAgcmVjb3JkX3Jlc291cmNlX2lkOiByb3cuX3JlY29yZElELFxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcbiAgICAgIG1ldGFkYXRhOiB0aGlzLmpzb25WYWx1ZShyb3cuX21ldGFkYXRhKSxcbiAgICAgIGhhc190cmFjazogcm93Ll9oYXNUcmFjayxcbiAgICAgIHRyYWNrOiB0aGlzLmpzb25WYWx1ZShyb3cuX3RyYWNrSlNPTiksXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkLFxuICAgICAgZ2VvbWV0cnk6IHRoaXMudHJhY2tHZW9tZXRyeShyb3cuX3RyYWNrSlNPTiksXG4gICAgICBkdXJhdGlvbjogcm93Ll9kdXJhdGlvbixcbiAgICAgIGJpdF9yYXRlOiByb3cuX2JpdFJhdGVcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHNpZ25hdHVyZShyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIGFjY2Vzc19rZXk6IHJvdy5pZCxcbiAgICAgIHJlY29yZF9pZDogcm93Ll9yZWNvcmRSb3dJRCxcbiAgICAgIHJlY29yZF9yZXNvdXJjZV9pZDogcm93Ll9yZWNvcmRJRCxcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93Ll9mb3JtSUQsXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBjaGFuZ2VzZXQocm93KSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21Gcm9tR2VvSlNPTihyb3cuYm91bmRpbmdCb3hBc0dlb0pTT04pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBmb3JtX2lkOiByb3cuX2Zvcm1Sb3dJRCxcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5fZm9ybUlELFxuICAgICAgbWV0YWRhdGE6IHRoaXMuanNvblZhbHVlKHJvdy5fbWV0YWRhdGEpLFxuICAgICAgY2xvc2VkX2F0OiByb3cuX2Nsb3NlZEF0LFxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcbiAgICAgIGNsb3NlZF9ieV9pZDogcm93Ll9jbG9zZWRCeVJvd0lELFxuICAgICAgY2xvc2VkX2J5X3Jlc291cmNlX2lkOiByb3cuX2Nsb3NlZEJ5SUQsXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgbWluX2xhdDogcm93Ll9taW5MYXQsXG4gICAgICBtYXhfbGF0OiByb3cuX21heExhdCxcbiAgICAgIG1pbl9sb246IHJvdy5fbWluTG9uLFxuICAgICAgbWF4X2xvbjogcm93Ll9tYXhMb24sXG4gICAgICBudW1iZXJfb2ZfY2hhbmdlczogcm93Ll9udW1iZXJPZkNoYW5nZXMsXG4gICAgICBudW1iZXJfb2ZfY3JlYXRlczogcm93Ll9udW1iZXJPZkNyZWF0ZXMsXG4gICAgICBudW1iZXJfb2ZfdXBkYXRlczogcm93Ll9udW1iZXJPZlVwZGF0ZXMsXG4gICAgICBudW1iZXJfb2ZfZGVsZXRlczogcm93Ll9udW1iZXJPZkRlbGV0ZXMsXG4gICAgICBtZXRhZGF0YV9pbmRleF90ZXh0OiByb3cuX21ldGFkYXRhSW5kZXhUZXh0LFxuICAgICAgbWV0YWRhdGFfaW5kZXg6IHtyYXc6IGB0b190c3ZlY3RvcigkeyBwZ2Zvcm1hdCgnJUwnLCByb3cuX21ldGFkYXRhSW5kZXhUZXh0KSB9KWB9LFxuICAgICAgYm91bmRpbmdfYm94OiBnZW9tZXRyeSA/IHtyYXc6IHRoaXMuZ2VvbUZyb21HZW9KU09OKHJvdy5ib3VuZGluZ0JveEFzR2VvSlNPTil9IDogbnVsbFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgY2hvaWNlTGlzdChyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxuICAgICAgdmVyc2lvbjogcm93Ll92ZXJzaW9uLFxuICAgICAgaXRlbXM6IHRoaXMuanNvblZhbHVlKHJvdy5fY2hvaWNlc0pTT04pLFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBjbGFzc2lmaWNhdGlvblNldChyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxuICAgICAgdmVyc2lvbjogcm93Ll92ZXJzaW9uLFxuICAgICAgaXRlbXM6IHRoaXMuanNvblZhbHVlKHJvdy5faXRlbXNKU09OKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZm9ybShyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxuICAgICAgdmVyc2lvbjogcm93Ll92ZXJzaW9uLFxuICAgICAgZWxlbWVudHM6IHRoaXMuanNvblZhbHVlKHJvdy5fZWxlbWVudHNKU09OKSxcbiAgICAgIHN0YXR1czogcm93Ll9zdGF0dXMsXG4gICAgICBzdGF0dXNfZmllbGQ6IHRoaXMuanNvblZhbHVlKHJvdy5fc3RhdHVzRmllbGRKU09OKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdCxcbiAgICAgIGF1dG9fYXNzaWduOiByb3cuX2F1dG9Bc3NpZ24sXG4gICAgICB0aXRsZV9maWVsZF9rZXlzOiB0aGlzLmpzb25WYWx1ZShyb3cuX3RpdGxlRmllbGRLZXlzKSxcbiAgICAgIGhpZGRlbl9vbl9kYXNoYm9hcmQ6IHJvdy5faGlkZGVuT25EYXNoYm9hcmQsXG4gICAgICBnZW9tZXRyeV90eXBlczogdGhpcy5qc29uVmFsdWUocm93Ll9nZW9tZXRyeVR5cGVzKSxcbiAgICAgIGdlb21ldHJ5X3JlcXVpcmVkOiByb3cuX2dlb21ldHJ5UmVxdWlyZWQsXG4gICAgICBzY3JpcHQ6IHJvdy5fc2NyaXB0LFxuICAgICAgaW1hZ2U6IHJvdy5faW1hZ2UsXG4gICAgICBwcm9qZWN0c19lbmFibGVkOiAhIXJvdy5fcHJvamVjdEVuYWJsZWQsXG4gICAgICBhc3NpZ25tZW50X2VuYWJsZWQ6ICEhcm93Ll9hc3NpZ25tZW50RW5hYmxlZFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgcHJvamVjdChyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyByb2xlKHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgbmFtZTogcm93Ll9uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXQsXG4gICAgICBpc19zeXN0ZW06IHJvdy5faXNTeXN0ZW0sXG4gICAgICBpc19kZWZhdWx0OiByb3cuX2lzRGVmYXVsdCxcbiAgICAgIGNhbl9tYW5hZ2Vfc3Vic2NyaXB0aW9uOiByb3cuY2FuTWFuYWdlU3Vic2NyaXB0aW9uLFxuICAgICAgY2FuX3VwZGF0ZV9vcmdhbml6YXRpb246IHJvdy5jYW5VcGRhdGVPcmdhbml6YXRpb24sXG4gICAgICBjYW5fbWFuYWdlX21lbWJlcnM6IHJvdy5jYW5NYW5hZ2VNZW1iZXJzLFxuICAgICAgY2FuX21hbmFnZV9yb2xlczogcm93LmNhbk1hbmFnZVJvbGVzLFxuICAgICAgY2FuX21hbmFnZV9hcHBzOiByb3cuY2FuTWFuYWdlQXBwcyxcbiAgICAgIGNhbl9tYW5hZ2VfcHJvamVjdHM6IHJvdy5jYW5NYW5hZ2VQcm9qZWN0cyxcbiAgICAgIGNhbl9tYW5hZ2VfY2hvaWNlX2xpc3RzOiByb3cuY2FuTWFuYWdlQ2hvaWNlTGlzdHMsXG4gICAgICBjYW5fbWFuYWdlX2NsYXNzaWZpY2F0aW9uX3NldHM6IHJvdy5jYW5NYW5hZ2VDbGFzc2lmaWNhdGlvblNldHMsXG4gICAgICBjYW5fY3JlYXRlX3JlY29yZHM6IHJvdy5jYW5DcmVhdGVSZWNvcmRzLFxuICAgICAgY2FuX3VwZGF0ZV9yZWNvcmRzOiByb3cuY2FuVXBkYXRlUmVjb3JkcyxcbiAgICAgIGNhbl9kZWxldGVfcmVjb3Jkczogcm93LmNhbkRlbGV0ZVJlY29yZHMsXG4gICAgICBjYW5fY2hhbmdlX3N0YXR1czogcm93LmNhbkNoYW5nZVN0YXR1cyxcbiAgICAgIGNhbl9jaGFuZ2VfcHJvamVjdDogcm93LmNhbkNoYW5nZVByb2plY3QsXG4gICAgICBjYW5fYXNzaWduX3JlY29yZHM6IHJvdy5jYW5Bc3NpZ25SZWNvcmRzLFxuICAgICAgY2FuX2ltcG9ydF9yZWNvcmRzOiByb3cuY2FuSW1wb3J0UmVjb3JkcyxcbiAgICAgIGNhbl9leHBvcnRfcmVjb3Jkczogcm93LmNhbkV4cG9ydFJlY29yZHMsXG4gICAgICBjYW5fcnVuX3JlcG9ydHM6IHJvdy5jYW5SdW5SZXBvcnRzXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBtZW1iZXJzaGlwKHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgdXNlcl9yZXNvdXJjZV9pZDogcm93Ll91c2VySUQsXG4gICAgICBmaXJzdF9uYW1lOiByb3cuX2ZpcnN0TmFtZSxcbiAgICAgIGxhc3RfbmFtZTogcm93Ll9sYXN0TmFtZSxcbiAgICAgIG5hbWU6IChyb3cuX2ZpcnN0TmFtZSB8fCAnJykgKyAnICcgKyAocm93Ll9sYXN0TmFtZSB8fCAnJyksXG4gICAgICBlbWFpbDogcm93Ll9lbWFpbCxcbiAgICAgIHJvbGVfaWQ6IHJvdy5fcm9sZVJvd0lELFxuICAgICAgcm9sZV9yZXNvdXJjZV9pZDogcm93Ll9yb2xlSUQsXG4gICAgICBzdGF0dXM6IHJvdy5zdGF0dXMsXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXRcbiAgICB9O1xuICB9XG59XG4iXX0=