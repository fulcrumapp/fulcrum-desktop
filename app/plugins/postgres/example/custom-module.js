"use strict";

class CustomModule {
  shouldUpdateRecord({
    record,
    account
  }) {
    // don't update a record that has a certain criteria
    if (record.form.name === 'Building Inspection') {
      const floors = record.formValues.find('number_of_floors');

      if (record.status === 'incomplete' && floors && floors.numericValue < 2) {
        return false;
      }
    }

    return true;
  }

  shouldUpdateForm({
    form,
    account
  }) {
    // don't sync a form with this name
    if (form.name === 'GeoFood') {
      return false;
    }

    return true;
  }

  async beforeSync() {}

  async afterSync() {
    if (this.app.args.pgAfterSyncUrl) {
      const request = this.api.APIClient.request;
      const body = await request({
        url: this.app.args.pgAfterSyncUrl
      });
    }
  }

}

module.exports = new CustomModule();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL3Bvc3RncmVzL2V4YW1wbGUvY3VzdG9tLW1vZHVsZS5qcyJdLCJuYW1lcyI6WyJDdXN0b21Nb2R1bGUiLCJzaG91bGRVcGRhdGVSZWNvcmQiLCJyZWNvcmQiLCJhY2NvdW50IiwiZm9ybSIsIm5hbWUiLCJmbG9vcnMiLCJmb3JtVmFsdWVzIiwiZmluZCIsInN0YXR1cyIsIm51bWVyaWNWYWx1ZSIsInNob3VsZFVwZGF0ZUZvcm0iLCJiZWZvcmVTeW5jIiwiYWZ0ZXJTeW5jIiwiYXBwIiwiYXJncyIsInBnQWZ0ZXJTeW5jVXJsIiwicmVxdWVzdCIsImFwaSIsIkFQSUNsaWVudCIsImJvZHkiLCJ1cmwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFlBQU4sQ0FBbUI7QUFDakJDLEVBQUFBLGtCQUFrQixDQUFDO0FBQUNDLElBQUFBLE1BQUQ7QUFBU0MsSUFBQUE7QUFBVCxHQUFELEVBQW9CO0FBQ3BDO0FBQ0EsUUFBSUQsTUFBTSxDQUFDRSxJQUFQLENBQVlDLElBQVosS0FBcUIscUJBQXpCLEVBQWdEO0FBQzlDLFlBQU1DLE1BQU0sR0FBR0osTUFBTSxDQUFDSyxVQUFQLENBQWtCQyxJQUFsQixDQUF1QixrQkFBdkIsQ0FBZjs7QUFFQSxVQUFJTixNQUFNLENBQUNPLE1BQVAsS0FBa0IsWUFBbEIsSUFBa0NILE1BQWxDLElBQTRDQSxNQUFNLENBQUNJLFlBQVAsR0FBc0IsQ0FBdEUsRUFBeUU7QUFDdkUsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPLElBQVA7QUFDRDs7QUFFREMsRUFBQUEsZ0JBQWdCLENBQUM7QUFBQ1AsSUFBQUEsSUFBRDtBQUFPRCxJQUFBQTtBQUFQLEdBQUQsRUFBa0I7QUFDaEM7QUFDQSxRQUFJQyxJQUFJLENBQUNDLElBQUwsS0FBYyxTQUFsQixFQUE2QjtBQUMzQixhQUFPLEtBQVA7QUFDRDs7QUFFRCxXQUFPLElBQVA7QUFDRDs7QUFFZSxRQUFWTyxVQUFVLEdBQUcsQ0FDbEI7O0FBRWMsUUFBVEMsU0FBUyxHQUFJO0FBQ2pCLFFBQUksS0FBS0MsR0FBTCxDQUFTQyxJQUFULENBQWNDLGNBQWxCLEVBQWtDO0FBQ2hDLFlBQU1DLE9BQU8sR0FBRyxLQUFLQyxHQUFMLENBQVNDLFNBQVQsQ0FBbUJGLE9BQW5DO0FBQ0EsWUFBTUcsSUFBSSxHQUFHLE1BQU1ILE9BQU8sQ0FBQztBQUFDSSxRQUFBQSxHQUFHLEVBQUUsS0FBS1AsR0FBTCxDQUFTQyxJQUFULENBQWNDO0FBQXBCLE9BQUQsQ0FBMUI7QUFDRDtBQUNGOztBQS9CZ0I7O0FBa0NuQk0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCLElBQUl2QixZQUFKLEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ3VzdG9tTW9kdWxlIHtcbiAgc2hvdWxkVXBkYXRlUmVjb3JkKHtyZWNvcmQsIGFjY291bnR9KSB7XG4gICAgLy8gZG9uJ3QgdXBkYXRlIGEgcmVjb3JkIHRoYXQgaGFzIGEgY2VydGFpbiBjcml0ZXJpYVxuICAgIGlmIChyZWNvcmQuZm9ybS5uYW1lID09PSAnQnVpbGRpbmcgSW5zcGVjdGlvbicpIHtcbiAgICAgIGNvbnN0IGZsb29ycyA9IHJlY29yZC5mb3JtVmFsdWVzLmZpbmQoJ251bWJlcl9vZl9mbG9vcnMnKTtcblxuICAgICAgaWYgKHJlY29yZC5zdGF0dXMgPT09ICdpbmNvbXBsZXRlJyAmJiBmbG9vcnMgJiYgZmxvb3JzLm51bWVyaWNWYWx1ZSA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2hvdWxkVXBkYXRlRm9ybSh7Zm9ybSwgYWNjb3VudH0pIHtcbiAgICAvLyBkb24ndCBzeW5jIGEgZm9ybSB3aXRoIHRoaXMgbmFtZVxuICAgIGlmIChmb3JtLm5hbWUgPT09ICdHZW9Gb29kJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgYmVmb3JlU3luYygpIHtcbiAgfVxuXG4gIGFzeW5jIGFmdGVyU3luYygpICB7XG4gICAgaWYgKHRoaXMuYXBwLmFyZ3MucGdBZnRlclN5bmNVcmwpIHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmFwaS5BUElDbGllbnQucmVxdWVzdDtcbiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0KHt1cmw6IHRoaXMuYXBwLmFyZ3MucGdBZnRlclN5bmNVcmx9KTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ3VzdG9tTW9kdWxlKCk7XG4iXX0=