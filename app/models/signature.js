"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _minidb = require("minidb");

var _fulcrumCore = require("fulcrum-core");

class Signature {
  static get tableName() {
    return 'signatures';
  }

  static get columns() {
    return [{
      name: 'accountRowID',
      column: 'account_id',
      type: 'integer',
      null: false
    }, {
      name: 'id',
      column: 'resource_id',
      type: 'string',
      null: false
    }, {
      name: 'filePath',
      column: 'file_path',
      type: 'string'
    }, {
      name: 'fileSize',
      column: 'file_size',
      type: 'integer'
    }, {
      name: 'contentType',
      column: 'content_type',
      type: 'string'
    }, {
      name: 'isDownloaded',
      column: 'is_downloaded',
      type: 'boolean',
      null: false
    }, {
      name: 'isUploaded',
      column: 'is_uploaded',
      type: 'boolean',
      null: false
    }, {
      name: 'isStored',
      column: 'is_stored',
      type: 'boolean',
      null: false
    }, {
      name: 'isProcessed',
      column: 'is_processed',
      type: 'boolean',
      null: false
    }, {
      name: 'formRowID',
      column: 'form_id',
      type: 'integer'
    }, {
      name: 'formID',
      column: 'form_resource_id',
      type: 'string'
    }, {
      name: 'recordRowID',
      column: 'record_id',
      type: 'integer'
    }, {
      name: 'recordID',
      column: 'record_resource_id',
      type: 'string'
    }, {
      name: 'updatedByRowID',
      column: 'updated_by_id',
      type: 'integer'
    }, {
      name: 'updatedByID',
      column: 'updated_by_resource_id',
      type: 'string'
    }, {
      name: 'createdByRowID',
      column: 'created_by_id',
      type: 'integer'
    }, {
      name: 'createdByID',
      column: 'created_by_resource_id',
      type: 'string'
    }, {
      name: 'createdAt',
      column: 'server_created_at',
      type: 'datetime'
    }, {
      name: 'updatedAt',
      column: 'server_updated_at',
      type: 'datetime'
    }];
  }

  get id() {
    return this._id;
  }

  updateFromAPIAttributes(attributes) {
    this._id = attributes.access_key;
    this._fileSize = attributes.file_size;
    this._isUploaded = attributes.uploaded;
    this._isStored = attributes.stored;
    this._isProcessed = attributes.processed;
    this._contentType = attributes.content_type;
    this._createdByID = attributes.created_by_id;
    this._updatedByID = attributes.updated_by_id;
    this._createdAt = _fulcrumCore.DateUtils.parseISOTimestamp(attributes.created_at);
    this._updatedAt = _fulcrumCore.DateUtils.parseISOTimestamp(attributes.updated_at);
    this._formID = attributes.form_id;
    this._recordID = attributes.record_id;
  }

  get isDownloaded() {
    return this._isDownloaded;
  }

  set isDownloaded(value) {
    this._isDownloaded = !!value;
  }

  get createdAt() {
    return this._createdAt;
  }

  get updatedAt() {
    return this._updatedAt;
  }

}

exports.default = Signature;

_minidb.PersistentObject.register(Signature);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvc2lnbmF0dXJlLmpzIl0sIm5hbWVzIjpbIlNpZ25hdHVyZSIsInRhYmxlTmFtZSIsImNvbHVtbnMiLCJuYW1lIiwiY29sdW1uIiwidHlwZSIsIm51bGwiLCJpZCIsIl9pZCIsInVwZGF0ZUZyb21BUElBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImFjY2Vzc19rZXkiLCJfZmlsZVNpemUiLCJmaWxlX3NpemUiLCJfaXNVcGxvYWRlZCIsInVwbG9hZGVkIiwiX2lzU3RvcmVkIiwic3RvcmVkIiwiX2lzUHJvY2Vzc2VkIiwicHJvY2Vzc2VkIiwiX2NvbnRlbnRUeXBlIiwiY29udGVudF90eXBlIiwiX2NyZWF0ZWRCeUlEIiwiY3JlYXRlZF9ieV9pZCIsIl91cGRhdGVkQnlJRCIsInVwZGF0ZWRfYnlfaWQiLCJfY3JlYXRlZEF0IiwiRGF0ZVV0aWxzIiwicGFyc2VJU09UaW1lc3RhbXAiLCJjcmVhdGVkX2F0IiwiX3VwZGF0ZWRBdCIsInVwZGF0ZWRfYXQiLCJfZm9ybUlEIiwiZm9ybV9pZCIsIl9yZWNvcmRJRCIsInJlY29yZF9pZCIsImlzRG93bmxvYWRlZCIsIl9pc0Rvd25sb2FkZWQiLCJ2YWx1ZSIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIlBlcnNpc3RlbnRPYmplY3QiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUVlLE1BQU1BLFNBQU4sQ0FBZ0I7QUFDVCxhQUFUQyxTQUFTLEdBQUc7QUFDckIsV0FBTyxZQUFQO0FBQ0Q7O0FBRWlCLGFBQVBDLE9BQU8sR0FBRztBQUNuQixXQUFPLENBQ0w7QUFBRUMsTUFBQUEsSUFBSSxFQUFFLGNBQVI7QUFBd0JDLE1BQUFBLE1BQU0sRUFBRSxZQUFoQztBQUE4Q0MsTUFBQUEsSUFBSSxFQUFFLFNBQXBEO0FBQStEQyxNQUFBQSxJQUFJLEVBQUU7QUFBckUsS0FESyxFQUVMO0FBQUVILE1BQUFBLElBQUksRUFBRSxJQUFSO0FBQWNDLE1BQUFB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QUFpRS9CVyx5QkFBaUJDLFFBQWpCLENBQTBCMUMsU0FBMUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQZXJzaXN0ZW50T2JqZWN0IH0gZnJvbSAnbWluaWRiJztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJ2Z1bGNydW0tY29yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZ25hdHVyZSB7XG4gIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgIHJldHVybiAnc2lnbmF0dXJlcyc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGNvbHVtbnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgbmFtZTogJ2FjY291bnRSb3dJRCcsIGNvbHVtbjogJ2FjY291bnRfaWQnLCB0eXBlOiAnaW50ZWdlcicsIG51bGw6IGZhbHNlIH0sXG4gICAgICB7IG5hbWU6ICdpZCcsIGNvbHVtbjogJ3Jlc291cmNlX2lkJywgdHlwZTogJ3N0cmluZycsIG51bGw6IGZhbHNlIH0sXG4gICAgICB7IG5hbWU6ICdmaWxlUGF0aCcsIGNvbHVtbjogJ2ZpbGVfcGF0aCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICB7IG5hbWU6ICdmaWxlU2l6ZScsIGNvbHVtbjogJ2ZpbGVfc2l6ZScsIHR5cGU6ICdpbnRlZ2VyJyB9LFxuICAgICAgeyBuYW1lOiAnY29udGVudFR5cGUnLCBjb2x1bW46ICdjb250ZW50X3R5cGUnLCB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgeyBuYW1lOiAnaXNEb3dubG9hZGVkJywgY29sdW1uOiAnaXNfZG93bmxvYWRlZCcsIHR5cGU6ICdib29sZWFuJywgbnVsbDogZmFsc2UgfSxcbiAgICAgIHsgbmFtZTogJ2lzVXBsb2FkZWQnLCBjb2x1bW46ICdpc191cGxvYWRlZCcsIHR5cGU6ICdib29sZWFuJywgbnVsbDogZmFsc2UgfSxcbiAgICAgIHsgbmFtZTogJ2lzU3RvcmVkJywgY29sdW1uOiAnaXNfc3RvcmVkJywgdHlwZTogJ2Jvb2xlYW4nLCBudWxsOiBmYWxzZSB9LFxuICAgICAgeyBuYW1lOiAnaXNQcm9jZXNzZWQnLCBjb2x1bW46ICdpc19wcm9jZXNzZWQnLCB0eXBlOiAnYm9vbGVhbicsIG51bGw6IGZhbHNlIH0sXG4gICAgICB7IG5hbWU6ICdmb3JtUm93SUQnLCBjb2x1bW46ICdmb3JtX2lkJywgdHlwZTogJ2ludGVnZXInIH0sXG4gICAgICB7IG5hbWU6ICdmb3JtSUQnLCBjb2x1bW46ICdmb3JtX3Jlc291cmNlX2lkJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgIHsgbmFtZTogJ3JlY29yZFJvd0lEJywgY29sdW1uOiAncmVjb3JkX2lkJywgdHlwZTogJ2ludGVnZXInIH0sXG4gICAgICB7IG5hbWU6ICdyZWNvcmRJRCcsIGNvbHVtbjogJ3JlY29yZF9yZXNvdXJjZV9pZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICB7IG5hbWU6ICd1cGRhdGVkQnlSb3dJRCcsIGNvbHVtbjogJ3VwZGF0ZWRfYnlfaWQnLCB0eXBlOiAnaW50ZWdlcicgfSxcbiAgICAgIHsgbmFtZTogJ3VwZGF0ZWRCeUlEJywgY29sdW1uOiAndXBkYXRlZF9ieV9yZXNvdXJjZV9pZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICB7IG5hbWU6ICdjcmVhdGVkQnlSb3dJRCcsIGNvbHVtbjogJ2NyZWF0ZWRfYnlfaWQnLCB0eXBlOiAnaW50ZWdlcicgfSxcbiAgICAgIHsgbmFtZTogJ2NyZWF0ZWRCeUlEJywgY29sdW1uOiAnY3JlYXRlZF9ieV9yZXNvdXJjZV9pZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICB7IG5hbWU6ICdjcmVhdGVkQXQnLCBjb2x1bW46ICdzZXJ2ZXJfY3JlYXRlZF9hdCcsIHR5cGU6ICdkYXRldGltZScgfSxcbiAgICAgIHsgbmFtZTogJ3VwZGF0ZWRBdCcsIGNvbHVtbjogJ3NlcnZlcl91cGRhdGVkX2F0JywgdHlwZTogJ2RhdGV0aW1lJyB9XG4gICAgXTtcbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICB1cGRhdGVGcm9tQVBJQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gICAgdGhpcy5faWQgPSBhdHRyaWJ1dGVzLmFjY2Vzc19rZXk7XG4gICAgdGhpcy5fZmlsZVNpemUgPSBhdHRyaWJ1dGVzLmZpbGVfc2l6ZTtcbiAgICB0aGlzLl9pc1VwbG9hZGVkID0gYXR0cmlidXRlcy51cGxvYWRlZDtcbiAgICB0aGlzLl9pc1N0b3JlZCA9IGF0dHJpYnV0ZXMuc3RvcmVkO1xuICAgIHRoaXMuX2lzUHJvY2Vzc2VkID0gYXR0cmlidXRlcy5wcm9jZXNzZWQ7XG4gICAgdGhpcy5fY29udGVudFR5cGUgPSBhdHRyaWJ1dGVzLmNvbnRlbnRfdHlwZTtcbiAgICB0aGlzLl9jcmVhdGVkQnlJRCA9IGF0dHJpYnV0ZXMuY3JlYXRlZF9ieV9pZDtcbiAgICB0aGlzLl91cGRhdGVkQnlJRCA9IGF0dHJpYnV0ZXMudXBkYXRlZF9ieV9pZDtcbiAgICB0aGlzLl9jcmVhdGVkQXQgPSBEYXRlVXRpbHMucGFyc2VJU09UaW1lc3RhbXAoYXR0cmlidXRlcy5jcmVhdGVkX2F0KTtcbiAgICB0aGlzLl91cGRhdGVkQXQgPSBEYXRlVXRpbHMucGFyc2VJU09UaW1lc3RhbXAoYXR0cmlidXRlcy51cGRhdGVkX2F0KTtcbiAgICB0aGlzLl9mb3JtSUQgPSBhdHRyaWJ1dGVzLmZvcm1faWQ7XG4gICAgdGhpcy5fcmVjb3JkSUQgPSBhdHRyaWJ1dGVzLnJlY29yZF9pZDtcbiAgfVxuXG4gIGdldCBpc0Rvd25sb2FkZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRG93bmxvYWRlZDtcbiAgfVxuXG4gIHNldCBpc0Rvd25sb2FkZWQodmFsdWUpIHtcbiAgICB0aGlzLl9pc0Rvd25sb2FkZWQgPSAhIXZhbHVlO1xuICB9XG5cbiAgZ2V0IGNyZWF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlZEF0O1xuICB9XG5cbiAgZ2V0IHVwZGF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlZEF0O1xuICB9XG59XG5cblBlcnNpc3RlbnRPYmplY3QucmVnaXN0ZXIoU2lnbmF0dXJlKTtcbiJdfQ==