"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _client = _interopRequireDefault(require("../../api/client"));

var _classificationSet = _interopRequireDefault(require("../../models/classification-set"));

var _downloadResource = _interopRequireDefault(require("./download-resource"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class DownloadClassificationSets extends _downloadResource.default {
  get resourceName() {
    return 'classification_sets';
  }

  get typeName() {
    return 'classification-set';
  }

  get propertyName() {
    return 'classificationSet';
  }

  fetchObjects(lastSync, sequence) {
    return _client.default.getClassificationSets(this.account);
  }

  fetchLocalObjects() {
    return this.account.findClassificationSets();
  }

  findOrCreate(database, attributes) {
    return _classificationSet.default.findOrCreate(database, {
      resource_id: attributes.id,
      account_id: this.account.rowID
    });
  }

}

exports.default = DownloadClassificationSets;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zeW5jL3Rhc2tzL2Rvd25sb2FkLWNsYXNzaWZpY2F0aW9uLXNldHMuanMiXSwibmFtZXMiOlsiRG93bmxvYWRDbGFzc2lmaWNhdGlvblNldHMiLCJEb3dubG9hZFJlc291cmNlIiwicmVzb3VyY2VOYW1lIiwidHlwZU5hbWUiLCJwcm9wZXJ0eU5hbWUiLCJmZXRjaE9iamVjdHMiLCJsYXN0U3luYyIsInNlcXVlbmNlIiwiQ2xpZW50IiwiZ2V0Q2xhc3NpZmljYXRpb25TZXRzIiwiYWNjb3VudCIsImZldGNoTG9jYWxPYmplY3RzIiwiZmluZENsYXNzaWZpY2F0aW9uU2V0cyIsImZpbmRPckNyZWF0ZSIsImRhdGFiYXNlIiwiYXR0cmlidXRlcyIsIkNsYXNzaWZpY2F0aW9uU2V0IiwicmVzb3VyY2VfaWQiLCJpZCIsImFjY291bnRfaWQiLCJyb3dJRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRWUsTUFBTUEsMEJBQU4sU0FBeUNDLHlCQUF6QyxDQUEwRDtBQUN2RCxNQUFaQyxZQUFZLEdBQUc7QUFDakIsV0FBTyxxQkFBUDtBQUNEOztBQUVXLE1BQVJDLFFBQVEsR0FBRztBQUNiLFdBQU8sb0JBQVA7QUFDRDs7QUFFZSxNQUFaQyxZQUFZLEdBQUc7QUFDakIsV0FBTyxtQkFBUDtBQUNEOztBQUVEQyxFQUFBQSxZQUFZLENBQUNDLFFBQUQsRUFBV0MsUUFBWCxFQUFxQjtBQUMvQixXQUFPQyxnQkFBT0MscUJBQVAsQ0FBNkIsS0FBS0MsT0FBbEMsQ0FBUDtBQUNEOztBQUVEQyxFQUFBQSxpQkFBaUIsR0FBRztBQUNsQixXQUFPLEtBQUtELE9BQUwsQ0FBYUUsc0JBQWIsRUFBUDtBQUNEOztBQUVEQyxFQUFBQSxZQUFZLENBQUNDLFFBQUQsRUFBV0MsVUFBWCxFQUF1QjtBQUNqQyxXQUFPQywyQkFBa0JILFlBQWxCLENBQStCQyxRQUEvQixFQUF5QztBQUFDRyxNQUFBQSxXQUFXLEVBQUVGLFVBQVUsQ0FBQ0csRUFBekI7QUFBNkJDLE1BQUFBLFVBQVUsRUFBRSxLQUFLVCxPQUFMLENBQWFVO0FBQXRELEtBQXpDLENBQVA7QUFDRDs7QUF2QnNFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENsaWVudCBmcm9tICcuLi8uLi9hcGkvY2xpZW50JztcbmltcG9ydCBDbGFzc2lmaWNhdGlvblNldCBmcm9tICcuLi8uLi9tb2RlbHMvY2xhc3NpZmljYXRpb24tc2V0JztcbmltcG9ydCBEb3dubG9hZFJlc291cmNlIGZyb20gJy4vZG93bmxvYWQtcmVzb3VyY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3dubG9hZENsYXNzaWZpY2F0aW9uU2V0cyBleHRlbmRzIERvd25sb2FkUmVzb3VyY2Uge1xuICBnZXQgcmVzb3VyY2VOYW1lKCkge1xuICAgIHJldHVybiAnY2xhc3NpZmljYXRpb25fc2V0cyc7XG4gIH1cblxuICBnZXQgdHlwZU5hbWUoKSB7XG4gICAgcmV0dXJuICdjbGFzc2lmaWNhdGlvbi1zZXQnO1xuICB9XG5cbiAgZ2V0IHByb3BlcnR5TmFtZSgpIHtcbiAgICByZXR1cm4gJ2NsYXNzaWZpY2F0aW9uU2V0JztcbiAgfVxuXG4gIGZldGNoT2JqZWN0cyhsYXN0U3luYywgc2VxdWVuY2UpIHtcbiAgICByZXR1cm4gQ2xpZW50LmdldENsYXNzaWZpY2F0aW9uU2V0cyh0aGlzLmFjY291bnQpO1xuICB9XG5cbiAgZmV0Y2hMb2NhbE9iamVjdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudC5maW5kQ2xhc3NpZmljYXRpb25TZXRzKCk7XG4gIH1cblxuICBmaW5kT3JDcmVhdGUoZGF0YWJhc2UsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gQ2xhc3NpZmljYXRpb25TZXQuZmluZE9yQ3JlYXRlKGRhdGFiYXNlLCB7cmVzb3VyY2VfaWQ6IGF0dHJpYnV0ZXMuaWQsIGFjY291bnRfaWQ6IHRoaXMuYWNjb3VudC5yb3dJRH0pO1xuICB9XG59XG4iXX0=