"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _client = _interopRequireDefault(require("../../api/client"));

var _choiceList = _interopRequireDefault(require("../../models/choice-list"));

var _downloadResource = _interopRequireDefault(require("./download-resource"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class DownloadChoiceLists extends _downloadResource.default {
  get resourceName() {
    return 'choice_lists';
  }

  get typeName() {
    return 'choice-list';
  }

  get propertyName() {
    return 'choiceList';
  }

  fetchObjects(lastSync, sequence) {
    return _client.default.getChoiceLists(this.account);
  }

  fetchLocalObjects() {
    return this.account.findChoiceLists();
  }

  findOrCreate(database, attributes) {
    return _choiceList.default.findOrCreate(database, {
      resource_id: attributes.id,
      account_id: this.account.rowID
    });
  }

}

exports.default = DownloadChoiceLists;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tYWluL3N5bmMvdGFza3MvZG93bmxvYWQtY2hvaWNlLWxpc3RzLmpzIl0sIm5hbWVzIjpbIkRvd25sb2FkQ2hvaWNlTGlzdHMiLCJEb3dubG9hZFJlc291cmNlIiwicmVzb3VyY2VOYW1lIiwidHlwZU5hbWUiLCJwcm9wZXJ0eU5hbWUiLCJmZXRjaE9iamVjdHMiLCJsYXN0U3luYyIsInNlcXVlbmNlIiwiQ2xpZW50IiwiZ2V0Q2hvaWNlTGlzdHMiLCJhY2NvdW50IiwiZmV0Y2hMb2NhbE9iamVjdHMiLCJmaW5kQ2hvaWNlTGlzdHMiLCJmaW5kT3JDcmVhdGUiLCJkYXRhYmFzZSIsImF0dHJpYnV0ZXMiLCJDaG9pY2VMaXN0IiwicmVzb3VyY2VfaWQiLCJpZCIsImFjY291bnRfaWQiLCJyb3dJRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRWUsTUFBTUEsbUJBQU4sU0FBa0NDLHlCQUFsQyxDQUFtRDtBQUNoRCxNQUFaQyxZQUFZLEdBQUc7QUFDakIsV0FBTyxjQUFQO0FBQ0Q7O0FBRVcsTUFBUkMsUUFBUSxHQUFHO0FBQ2IsV0FBTyxhQUFQO0FBQ0Q7O0FBRWUsTUFBWkMsWUFBWSxHQUFHO0FBQ2pCLFdBQU8sWUFBUDtBQUNEOztBQUVEQyxFQUFBQSxZQUFZLENBQUNDLFFBQUQsRUFBV0MsUUFBWCxFQUFxQjtBQUMvQixXQUFPQyxnQkFBT0MsY0FBUCxDQUFzQixLQUFLQyxPQUEzQixDQUFQO0FBQ0Q7O0FBRURDLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLFdBQU8sS0FBS0QsT0FBTCxDQUFhRSxlQUFiLEVBQVA7QUFDRDs7QUFFREMsRUFBQUEsWUFBWSxDQUFDQyxRQUFELEVBQVdDLFVBQVgsRUFBdUI7QUFDakMsV0FBT0Msb0JBQVdILFlBQVgsQ0FBd0JDLFFBQXhCLEVBQWtDO0FBQUNHLE1BQUFBLFdBQVcsRUFBRUYsVUFBVSxDQUFDRyxFQUF6QjtBQUE2QkMsTUFBQUEsVUFBVSxFQUFFLEtBQUtULE9BQUwsQ0FBYVU7QUFBdEQsS0FBbEMsQ0FBUDtBQUNEOztBQXZCK0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2xpZW50IGZyb20gJy4uLy4uL2FwaS9jbGllbnQnO1xuaW1wb3J0IENob2ljZUxpc3QgZnJvbSAnLi4vLi4vbW9kZWxzL2Nob2ljZS1saXN0JztcbmltcG9ydCBEb3dubG9hZFJlc291cmNlIGZyb20gJy4vZG93bmxvYWQtcmVzb3VyY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3dubG9hZENob2ljZUxpc3RzIGV4dGVuZHMgRG93bmxvYWRSZXNvdXJjZSB7XG4gIGdldCByZXNvdXJjZU5hbWUoKSB7XG4gICAgcmV0dXJuICdjaG9pY2VfbGlzdHMnO1xuICB9XG5cbiAgZ2V0IHR5cGVOYW1lKCkge1xuICAgIHJldHVybiAnY2hvaWNlLWxpc3QnO1xuICB9XG5cbiAgZ2V0IHByb3BlcnR5TmFtZSgpIHtcbiAgICByZXR1cm4gJ2Nob2ljZUxpc3QnO1xuICB9XG5cbiAgZmV0Y2hPYmplY3RzKGxhc3RTeW5jLCBzZXF1ZW5jZSkge1xuICAgIHJldHVybiBDbGllbnQuZ2V0Q2hvaWNlTGlzdHModGhpcy5hY2NvdW50KTtcbiAgfVxuXG4gIGZldGNoTG9jYWxPYmplY3RzKCkge1xuICAgIHJldHVybiB0aGlzLmFjY291bnQuZmluZENob2ljZUxpc3RzKCk7XG4gIH1cblxuICBmaW5kT3JDcmVhdGUoZGF0YWJhc2UsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gQ2hvaWNlTGlzdC5maW5kT3JDcmVhdGUoZGF0YWJhc2UsIHtyZXNvdXJjZV9pZDogYXR0cmlidXRlcy5pZCwgYWNjb3VudF9pZDogdGhpcy5hY2NvdW50LnJvd0lEfSk7XG4gIH1cbn1cbiJdfQ==