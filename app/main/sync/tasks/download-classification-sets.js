"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _client = _interopRequireDefault(require("../../api/client"));

var _classificationSet = _interopRequireDefault(require("../../models/classification-set"));

var _downloadResource = _interopRequireDefault(require("./download-resource"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class DownloadClassificationSets extends _downloadResource.default {
  get resourceName() {
    return 'classification_sets';
  }

  get typeName() {
    return 'classification-set';
  }

  get propertyName() {
    return 'classificationSet';
  }

  fetchObjects(lastSync, sequence) {
    return _client.default.getClassificationSets(this.account);
  }

  fetchLocalObjects() {
    return this.account.findClassificationSets();
  }

  findOrCreate(database, attributes) {
    return _classificationSet.default.findOrCreate(database, {
      resource_id: attributes.id,
      account_id: this.account.rowID
    });
  }

}

exports.default = DownloadClassificationSets;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tYWluL3N5bmMvdGFza3MvZG93bmxvYWQtY2xhc3NpZmljYXRpb24tc2V0cy5qcyJdLCJuYW1lcyI6WyJEb3dubG9hZENsYXNzaWZpY2F0aW9uU2V0cyIsIkRvd25sb2FkUmVzb3VyY2UiLCJyZXNvdXJjZU5hbWUiLCJ0eXBlTmFtZSIsInByb3BlcnR5TmFtZSIsImZldGNoT2JqZWN0cyIsImxhc3RTeW5jIiwic2VxdWVuY2UiLCJDbGllbnQiLCJnZXRDbGFzc2lmaWNhdGlvblNldHMiLCJhY2NvdW50IiwiZmV0Y2hMb2NhbE9iamVjdHMiLCJmaW5kQ2xhc3NpZmljYXRpb25TZXRzIiwiZmluZE9yQ3JlYXRlIiwiZGF0YWJhc2UiLCJhdHRyaWJ1dGVzIiwiQ2xhc3NpZmljYXRpb25TZXQiLCJyZXNvdXJjZV9pZCIsImlkIiwiYWNjb3VudF9pZCIsInJvd0lEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFZSxNQUFNQSwwQkFBTixTQUF5Q0MseUJBQXpDLENBQTBEO0FBQ3ZELE1BQVpDLFlBQVksR0FBRztBQUNqQixXQUFPLHFCQUFQO0FBQ0Q7O0FBRVcsTUFBUkMsUUFBUSxHQUFHO0FBQ2IsV0FBTyxvQkFBUDtBQUNEOztBQUVlLE1BQVpDLFlBQVksR0FBRztBQUNqQixXQUFPLG1CQUFQO0FBQ0Q7O0FBRURDLEVBQUFBLFlBQVksQ0FBQ0MsUUFBRCxFQUFXQyxRQUFYLEVBQXFCO0FBQy9CLFdBQU9DLGdCQUFPQyxxQkFBUCxDQUE2QixLQUFLQyxPQUFsQyxDQUFQO0FBQ0Q7O0FBRURDLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLFdBQU8sS0FBS0QsT0FBTCxDQUFhRSxzQkFBYixFQUFQO0FBQ0Q7O0FBRURDLEVBQUFBLFlBQVksQ0FBQ0MsUUFBRCxFQUFXQyxVQUFYLEVBQXVCO0FBQ2pDLFdBQU9DLDJCQUFrQkgsWUFBbEIsQ0FBK0JDLFFBQS9CLEVBQXlDO0FBQUNHLE1BQUFBLFdBQVcsRUFBRUYsVUFBVSxDQUFDRyxFQUF6QjtBQUE2QkMsTUFBQUEsVUFBVSxFQUFFLEtBQUtULE9BQUwsQ0FBYVU7QUFBdEQsS0FBekMsQ0FBUDtBQUNEOztBQXZCc0UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2xpZW50IGZyb20gJy4uLy4uL2FwaS9jbGllbnQnO1xuaW1wb3J0IENsYXNzaWZpY2F0aW9uU2V0IGZyb20gJy4uLy4uL21vZGVscy9jbGFzc2lmaWNhdGlvbi1zZXQnO1xuaW1wb3J0IERvd25sb2FkUmVzb3VyY2UgZnJvbSAnLi9kb3dubG9hZC1yZXNvdXJjZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvd25sb2FkQ2xhc3NpZmljYXRpb25TZXRzIGV4dGVuZHMgRG93bmxvYWRSZXNvdXJjZSB7XG4gIGdldCByZXNvdXJjZU5hbWUoKSB7XG4gICAgcmV0dXJuICdjbGFzc2lmaWNhdGlvbl9zZXRzJztcbiAgfVxuXG4gIGdldCB0eXBlTmFtZSgpIHtcbiAgICByZXR1cm4gJ2NsYXNzaWZpY2F0aW9uLXNldCc7XG4gIH1cblxuICBnZXQgcHJvcGVydHlOYW1lKCkge1xuICAgIHJldHVybiAnY2xhc3NpZmljYXRpb25TZXQnO1xuICB9XG5cbiAgZmV0Y2hPYmplY3RzKGxhc3RTeW5jLCBzZXF1ZW5jZSkge1xuICAgIHJldHVybiBDbGllbnQuZ2V0Q2xhc3NpZmljYXRpb25TZXRzKHRoaXMuYWNjb3VudCk7XG4gIH1cblxuICBmZXRjaExvY2FsT2JqZWN0cygpIHtcbiAgICByZXR1cm4gdGhpcy5hY2NvdW50LmZpbmRDbGFzc2lmaWNhdGlvblNldHMoKTtcbiAgfVxuXG4gIGZpbmRPckNyZWF0ZShkYXRhYmFzZSwgYXR0cmlidXRlcykge1xuICAgIHJldHVybiBDbGFzc2lmaWNhdGlvblNldC5maW5kT3JDcmVhdGUoZGF0YWJhc2UsIHtyZXNvdXJjZV9pZDogYXR0cmlidXRlcy5pZCwgYWNjb3VudF9pZDogdGhpcy5hY2NvdW50LnJvd0lEfSk7XG4gIH1cbn1cbiJdfQ==